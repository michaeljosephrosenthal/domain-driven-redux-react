{"version":3,"sources":["webpack:///webpack/bootstrap 69ea29e4f06b54b1ca6c","webpack:///external \"react\"","webpack:///external \"redux\"","webpack:///external \"redux-router\"","webpack:///external \"strictduck-domain-driven-fullstack\"","webpack:///external \"path\"","webpack:///external \"polypacker\"","webpack:///external \"react-redux\"","webpack:///external \"tcomb\"","webpack:///./src/HotReloadingProvider.jsx","webpack:///./src/client.js","webpack:///./src/combineAllDomainReducers.js","webpack:///./src/combineReducers.js","webpack:///./src/createAction.js","webpack:///./src/createReducer.js","webpack:///./src/createRouter.jsx","webpack:///./src/dataFlow.js","webpack:///./src/domainRouteGenerator.jsx","webpack:///./src/expandReduxDomains.js","webpack:///./src/index.js","webpack:///./src/provideServerDomain.js","webpack:///./src/store.js","webpack:///./src/webpackBuilder.js","webpack:///external \"express\"","webpack:///external \"history/lib/createMemoryHistory\"","webpack:///external \"html-webpack-harddisk-plugin\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"html-webpack-template\"","webpack:///external \"react-router\"","webpack:///external \"strictduck\"","webpack:///external \"webpack\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\""],"names":[],"mappings":"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","file":"node_development.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 69ea29e4f06b54b1ca6c\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"redux-router\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-router\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"strictduck-domain-driven-fullstack\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"strictduck-domain-driven-fullstack\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"polypacker\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"polypacker\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"react-redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-redux\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"tcomb\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"tcomb\"\n ** module id = 8\n ** module chunks = 0\n **/","import { Component, PropTypes, Children } from 'react'\n\nlet storeShape = PropTypes.shape({\n  subscribe: PropTypes.func.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n})\n\n\nexport default class Provider extends Component {\n    getChildContext() {\n        return { store: this.store }\n    }\n\n    constructor(props, context) {\n        super(props, context)\n        this.store = props.store\n    }\n\n    render() {\n        return Children.only(this.props.children)\n    }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n    Provider.prototype.componentWillReceiveProps = function (nextProps) {\n        const { store } = this\n        const { store: nextStore } = nextProps\n        if (store !== nextStore) {\n            store.replaceReducer(nextStore.reducer);\n        }\n    }\n}\n\nProvider.propTypes = {\n    store: storeShape.isRequired,\n    children: PropTypes.element.isRequired\n}\nProvider.childContextTypes = {\n    store: storeShape.isRequired\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/HotReloadingProvider.jsx\n **/","import { reactiveClient as ddReactiveClient, storePersistencePlugin } from 'strictduck-domain-driven-fullstack'\nimport reduxStore from './store'\nimport createRouter from './createRouter'\nimport domainRouteGenerator from './domainRouteGenerator'\nimport expandReduxDomains from './expandReduxDomains'\n\nconst provider = ($ES.CONTEXT == 'NODE' ? require('./provideServerDomain') : require('./render')).default\n\nexport default ddReactiveClient.implement({\n    name: 'DomainDrivenReduxReactClient',\n    constructor({\n        Domains: {settings, ...domains},\n        elementId = 'app',\n        DomainDrivenClientStore: Store = reduxStore,\n        DomainDrivenStorePersistencePlugin: persister,\n        routes,\n        middlewareGenerators = [],\n        client = {}\n    }){\n        if(!(persister instanceof Error))\n            middlewareGenerators.push((domains) => persister.middlewareGenerator({db: persister.db, domains}));\n\n        if (Store instanceof Error) Store = reduxStore;\n\n        domains = expandReduxDomains(domains)\n\n        Object.assign(client, {\n            routes: routes || client.routes || domainRouteGenerator(domains),\n            elementId\n        })\n        if(persister && persister.authenticateRoutes)\n            client.routes = persister.authenticateRoutes(client.routes)\n\n        client.store = new Store({ domains, routes: client.routes, middlewareGenerators })\n        client.router = createRouter(client.store, client.routes)\n        client.settings = ($ES.CONTEXT == 'NODE' ? settings.client : settings)\n\n        return [client]\n    },\n    provider(){\n        return provider.bind(this)(this.settings)\n    }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client.js\n **/","import combineReducers from './combineReducers'\nexport default function combineAllDomainReducers(domains){\n    return combineReducers(\n        Object.keys(domains)\n            .filter(key => domains[key].reducer)\n            .reduce((map, key) => {\n                map[key] = domains[key].reducer;\n                return map\n            }, {})\n    )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/combineAllDomainReducers.js\n **/","import { combineReducers }    from 'redux'\nimport { routerStateReducer } from 'redux-router'\n\nexport default function(reducers) {\n   if (typeof reducers !== 'object') {\n     throw \"Reactuate reducers should be an object (and not a function)\"\n   }\n   return combineReducers({router: routerStateReducer, ...reducers})\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/combineReducers.js\n **/","import t from 'tcomb'\n\nexport default function(domain, action, payload = t.Any, defaultValue = undefined, meta = t.Any) {\n  let actionString = domain.withPrefix(action)\n  function ActionCreator(value = defaultValue, error = false,\n                         metaValue = undefined, path = [payload.displayName]) {\n\n    if (ActionCreator.is(value)) {\n      return value\n    }\n\n    value = payload(value)\n\n    if (typeof metaValue !== 'undefined') {\n      metaValue = meta(metaValue)\n    }\n\n    if (!(this instanceof ActionCreator)) {\n      return new ActionCreator(value, error, metaValue, path)\n    }\n\n    this.type = actionString\n    this.payload = value\n\n    if (!!error) {\n      this.error = true\n    }\n\n    if (typeof metaValue !== 'undefined') {\n      this.meta = metaValue\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      Object.freeze(this)\n    }\n  }\n\n  ActionCreator.meta = {\n    kind: 'actionCreator',\n    payload: payload,\n    name: actionString,\n    identity: false\n  }\n\n  ActionCreator.displayName = `Action ${actionString}(${payload.displayName})`\n  ActionCreator.actionCreator = true\n  ActionCreator.action = action\n\n  ActionCreator.is = x => x instanceof ActionCreator\n\n  domain.register('actions', action, ActionCreator)\n  return ActionCreator\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/createAction.js\n **/","import t from 'tcomb'\n\nexport default function(domain, initialState, ...cases) {\n  let reducer = (state = initialState, action) => {\n    let typedAction = action\n    if (action['type'] === '@@reactuate/action') {\n      let actionCreator = domain.get('actions')[domain.withoutPrefix(action.payload.type)]\n      if (!t.Nil.is(actionCreator)) {\n        typedAction = actionCreator(action.payload.payload, action.payload.error, action.payload.meta)\n      }\n    }\n    Object.freeze(state)\n    let stateCases = cases.map(f => {\n      if (typeof f === 'function' && typeof f.meta === 'undefined') {\n        return (handler) => f(state, handler)\n      } else {\n        return f\n      }\n    })\n    return t.match(typedAction, ...stateCases, t.Any, () => state)\n  }\n  domain.reducer = reducer\n  return reducer\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/createReducer.js\n **/","import React           from 'react'\nimport { ReduxRouter } from 'redux-router'\nimport { Provider as ReduxProvider }    from 'react-redux'\nimport HotProvider from './HotReloadingProvider'\n\nlet Provider = ($ES.ENV == 'PRODUCTION') ? ReduxProvider : HotProvider\n\nexport default function createRouter(store, routes) {\n  return <Provider store={store}><ReduxRouter>{routes}</ReduxRouter></Provider>\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/createRouter.jsx\n **/","import createReducer from './createReducer'\nimport createAction from './createAction'\nimport { utils } from 'strictduck'\n\nfunction nameActionCreator({name}){\n    return name.toLowerCase().replace(/_([a-z])/g, g => g[1].toUpperCase())\n}\n\nfunction actionType({prefix, name}){\n    return `@@${prefix}/${name}`\n}\n\nfunction flowToAction(prefix, name){\n    return utils.nameObj({\n        name: nameActionCreator({prefix, name}),\n        object: function(payload){\n            return {\n                type: actionType({prefix, name}),\n                payload\n            }\n        }\n    })\n}\n\nfunction flowToReducer(prefix, name, reducerCase){\n  return (state, {type, payload}) =>\n      (type === actionType({prefix, name})) ?\n          reducerCase(state, payload) :\n          state\n}\n\nfunction mergeReducers(initialState, reducers){\n    return (state = initialState, action) => reducers.reduce(\n        (state, reducer) => reducer(state, action), state)\n}\n\nexport function unpackDataFlowsIntoDomain(domain){\n    let dataFlows = domain.get('dataFlows')\n    let prefix = domain.prefix\n    if(dataFlows && Object.keys(dataFlows).length){\n        Object.keys(dataFlows).forEach(name => {\n            domain.register('actions', nameActionCreator({prefix, name}), flowToAction(prefix, name))\n        })\n        domain.reducer = mergeReducers(\n            domain.initialState || [],\n            Object.keys(dataFlows).map(name => flowToReducer(prefix, name, dataFlows[name]))\n        )\n    }\n    return domain\n}\n\nexport default function unpackDataFlowsIntoDomains(domains){\n    return Object.keys(domains)\n        .reduce((newDomains, k) => {\n            newDomains[k] = unpackDataFlowsIntoDomain(domains[k]);\n            return newDomains\n        }, {})\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dataFlow.js\n **/","import React from 'react'\nimport { Route } from 'react-router'\n\nfunction filterDomainsForType(domains, type){\n    return Object.keys(domains)\n        .map(k => domains[k])\n        .filter(domain => Object.keys(domain.get(type)).length)\n}\n\nfunction route(domain){\n    return domain.get('route').route || (<Route path=\"/\" component={domain.get('route').component}/>)\n}\n\nfunction extractRootRoute(domains){\n    return filterDomainsForType(domains, 'route')\n        .filter(domain => domain.get('route').path == '/')\n        .map(route)[0]\n}\n\nfunction findContainerizedRoutes(domains){\n    return filterDomainsForType(domains, 'route')\n        .map(d => d.get('route'))\n        .filter(route => route.isContainer)\n}\n\nfunction applyToChildren({children, block}){\n    if(children){\n        return Array.isArray(children) ?\n            children.map(block) :\n            block(children)\n    } else {\n        return children\n    }\n}\n\nfunction swapChildrenComponentsForContainers({children, domainRoutes}){\n    return applyToChildren({\n        children,\n        block: route => swapRouteComponentForContainer({route, domainRoutes})\n    })\n}\nexport function swapRouteComponentForContainer({route, domainRoutes}){\n    console.log(route)\n    let children = route.props.children\n    let match = domainRoutes.filter(r => r.original == route.props.component)[0]\n    return React.cloneElement(\n        route,\n        match ? {\n            component: match.component,\n            key: route.props.key || route.props.path || '/'\n        } : {key: route.props.key || route.props.path || '/'},\n        swapChildrenComponentsForContainers({children, domainRoutes})\n    )\n}\n\nfunction swapContainersIntoRoutes(route, domains){\n    console.log(route)\n    return swapRouteComponentForContainer({\n        route,\n        domainRoutes: findContainerizedRoutes(domains)\n    })\n}\n\nexport default function domainRouteGenerator(domains){\n    return swapContainersIntoRoutes(extractRootRoute(domains), domains)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/domainRouteGenerator.jsx\n **/","import { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { unpackDataFlowsIntoDomain } from './dataFlow'\n\nexport function domainReduxConnector(domain){\n    if(!(domain.get('actions') && Object.keys(domain.get('actions')).length))\n        domain = unpackDataFlowsIntoDomain(domain);\n    return connect(\n        state => ({[domain.prefix]: state[domain.prefix]}),\n        dispatch => ({\n            actions: bindActionCreators(domain.get('actions'), dispatch)\n        })\n    )(domain.get('route').component)\n}\n\nexport function connectDomainRoutes(domain){\n    if(!(domain.get('actions') && Object.keys(domain.get('actions')).length)){\n        domain = unpackDataFlowsIntoDomain(domain)\n    }\n    domain.register('route', 'original', domain.get('route').component)\n    domain.register('route', 'component', domainReduxConnector(domain))\n    domain.register('route', 'isContainer', true)\n    return domain\n}\n\nfunction expandReactRouterRoute({domain, route}){\n    domain.register('route', 'component', route.props.component)\n    return domain\n}\n\nexport function expandReduxDomain(domain){\n    let { route } = domain.get('route')\n    if(route)\n        domain = expandReactRouterRoute({domain, route});\n    let { component, isContainer } = domain.get('route')\n    if( component && !isContainer\n        && Object.keys(domain.get('dataFlows')).length\n      ){\n        domain = connectDomainRoutes(domain)\n    }\n    return domain\n}\n\nexport default function expandReduxDomains(domains){\n    return Object.keys(domains)\n        .reduce((newDomains, k) => {\n            newDomains[k] = expandReduxDomain(domains[k]);\n            return newDomains\n        }, {})\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expandReduxDomains.js\n **/","export default from './client'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import webpack from 'webpack'\nimport path from 'path'\nimport webpackDevMiddleware from 'webpack-dev-middleware'\nimport webpackHotMiddleware from 'webpack-hot-middleware'\nimport express from 'express'\nimport configBuilder from './webpackBuilder'\nimport { logCompilation } from 'polypacker'\nimport { Domain } from 'strictduck-domain-driven-fullstack'\nimport { reactiveClient as ddReactiveClient } from 'strictduck-domain-driven-fullstack'\n\nexport default function serverDomain(settings = {}){\n    const config = configBuilder(settings)\n    const compiler = webpack(config)\n    function returnIndex(req, res, next){\n        compiler.outputFileSystem.readFile('index.html', (err, result) => {\n            if (err) {\n                return next(err);\n            }\n            res.set('content-type','text/html');\n            res.send(result);\n            res.end();\n        })\n    }\n    if($ES.ENV == 'PRODUCTION'){\n        compiler.run(\n            (err, stats) => logCompilation(err, stats, {logLevel: 'VERBOSE', signature: 'client'})\n        )\n    }\n    return new Domain.implementation({\n        name: '',\n        middleware: ($ES.ENV != 'PRODUCTION' ? [\n            webpackDevMiddleware(compiler, {\n                noInfo: true,\n                publicPath: config.output.publicPath,\n                stats: { colors: true }\n            }),\n            webpackHotMiddleware(compiler),\n            express.static('static')\n        ] : [ ]),\n        routes: {\n            ...( $ES.ENV == 'PRODUCTION' || true? {\n                'static/bundle.js': {\n                    methods: ['get'],\n                    handlers: [ (req, res, next) => res.sendFile(path.join(process.cwd(), 'dist/bundle.js')) ]\n                }\n            } : {}),\n            '*': {\n                methods: ['get'],\n                handlers: [ (req, res, next) => res.sendFile(path.join(process.cwd(), 'dist/index.html')) ]\n            }\n        },\n        order: $ES.ENV == 'PRODUCTION' || true ? ['static/bundle.js', '*'] : ['*'] \n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/provideServerDomain.js\n **/","import { createStore, applyMiddleware, compose } from 'redux'\nimport { reduxReactRouter } from 'redux-router'\n\nimport { clientStore as ddStore } from 'strictduck-domain-driven-fullstack'\nimport combineAllDomainReducers from './combineAllDomainReducers'\n\nconst createHistory  = ($ES.CONTEXT == 'BROWSER' ? require('history').createHistory : require('history/lib/createMemoryHistory'))\n\nexport default class DomainDrivenReduxStore extends ddStore.default {\n\n    constructor({\n        domains, routes,\n        store=createStore, \n        defaultMiddlewareGenerators=[],\n        middlewareGenerators=[]\n    }){\n        let reducer = combineAllDomainReducers(domains)\n        super(\n            compose(\n                applyMiddleware(\n                    ...defaultMiddlewareGenerators.map(\n                        generator => generator(domains)\n                    ),\n                    ...middlewareGenerators.map(\n                        generator => generator(domains)\n                    ),\n                ),\n                reduxReactRouter({routes, createHistory})\n            )(store)(reducer)\n        )\n        this.reducer = reducer\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store.js\n **/","/* TODO unused and probably the wrong approach\n * The right way to handle different polypacker templates is to make everything in the default overridable, AND have a \"webpack template\" option. Right now Polypacker is only really suitable for developing \"fullstack components\", not for the requirements of a webapp or framework\n */\n\nimport path from 'path'\nimport { configBuilder } from 'polypacker'\nimport HtmlWebpackPlugin from 'html-webpack-plugin'\nimport HtmlWebpackHarddiskPlugin from 'html-webpack-harddisk-plugin'\nimport template from 'html-webpack-template'\n\nexport default function config({title='Bufflehead App', ...settings}){\n    process.chdir(process.env.PWD)\n    let pwd = './'\n    var htmlPlugin = new HtmlWebpackPlugin({\n        alwaysWriteToDisk: true,\n        template,\n        appMountId: 'app',\n        title: title,\n        filename: 'index.html',\n        inject: false,\n        window: { settings }\n    })\n    var fallback = [\n        path.join(__dirname, \"node_modules\"),\n        path.join(pwd, \"node_modules\"),\n        path.join(pwd, \"node_modules/polypacker/node_modules\"),\n        path.join(pwd, \"node_modules/domain-driven-redux-react/node_modules\")\n    ]\n    return configBuilder({\n        entry: './src/index',\n        out: 'bundle.js',\n        hot: true,\n        context: 'BROWSER',\n        env: $ES.ENV,\n        plugins: [\n            htmlPlugin,\n            new HtmlWebpackHarddiskPlugin()\n        ],\n        babelPresets: ['react'],\n        overrides: {\n            output: {\n                path: path.resolve(path.join(pwd, \"dist\")),\n                filename: 'bundle.js',\n                publicPath: '/static/'\n            },\n            resolve: {\n                root: path.resolve(pwd),\n                modulesDirectories: [ \"node_modules\", \"node_modules/polypacker/node_modules\" ],\n                extensions: [\"\", \".json\", \".js\", \".jsx\"],\n                fallback,\n                alias: {\n                    react: path.join(pwd, './node_modules/react'),\n                },\n            },\n            node: {\n                __dirname: true,\n                fs: 'empty'\n            },\n            externals: []\n        }\n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpackBuilder.js\n **/","module.exports = require(\"express\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express\"\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = require(\"history/lib/createMemoryHistory\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"history/lib/createMemoryHistory\"\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = require(\"html-webpack-harddisk-plugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"html-webpack-harddisk-plugin\"\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = require(\"html-webpack-plugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"html-webpack-plugin\"\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = require(\"html-webpack-template\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"html-webpack-template\"\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = require(\"react-router\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-router\"\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = require(\"strictduck\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"strictduck\"\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = require(\"webpack\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack\"\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = require(\"webpack-dev-middleware\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-dev-middleware\"\n ** module id = 31\n ** module chunks = 0\n **/","module.exports = require(\"webpack-hot-middleware\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-hot-middleware\"\n ** module id = 32\n ** module chunks = 0\n **/"],"sourceRoot":""}